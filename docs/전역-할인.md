
---

## ğŸ§© ì „ì—­ í• ì¸ ì •ì±… êµ¬ì„±

ì„œë¹„ìŠ¤ ì „ì—­ì— ê³µí†µìœ¼ë¡œ ì ìš©ë˜ëŠ” **ìƒí™© ê¸°ë°˜ í• ì¸ ì •ì±…**(ì˜ˆ: ì—°íœ´ í• ì¸, ì¥ì•  ë³´ìƒ ë“±)ì„ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.
íŠ¹ì • ê²°ì œ ìˆ˜ë‹¨ì´ë‚˜ ì¿ í°ì— ê´€ê³„ì—†ì´, ì „ì—­ í• ì¸ ì •ì±…ì€ ìµœì¢… ê²°ì œ ê¸ˆì•¡ì— ì¼ê´„ ì ìš©ë©ë‹ˆë‹¤.

---

###  êµ¬ì¡° ê°œìš”

| í•­ëª©        | ì„¤ëª…                                                |
| --------- | ------------------------------------------------- |
| **íŒ¨í„´**    | ì „ëµ íŒ¨í„´ (`DiscountPolicy`)                          |
| **ì ìš© ë°©ì‹** | `@Profile` ê¸°ë°˜ ìŠ¤í”„ë§ í”„ë¡œíŒŒì¼ ì„¤ì •                         |
| **ì ìš© ìœ„ì¹˜** | ê²°ì œ ì„œë¹„ìŠ¤(PaymentService) ë‚´ë¶€ `finalPaidAmount` ê²°ì • ì‹œì  |
| **ì •ì±… ì¢…ë¥˜** | ê¸°ë³¸(Default), ì—°íœ´(Holiday), ì¥ì• (ErrorEvent) ë“±        |

---

### ğŸ”§ ì ìš© ì˜ˆì‹œ

```yaml
spring:
  profiles:
    active: holiday
```

* `application.yml`ì˜ `active` í”„ë¡œíŒŒì¼ì— ë”°ë¼ ìë™ìœ¼ë¡œ í• ì¸ ì •ì±… ë¹ˆì´ ì£¼ì…ë©ë‹ˆë‹¤.
* í”„ë¡œíŒŒì¼ì´ ì—†ê±°ë‚˜ `default`ì¸ ê²½ìš° í• ì¸ ì—†ì´ ê²°ì œê°€ ì§„í–‰ë©ë‹ˆë‹¤.

---

### ğŸ§  ì „ëµ íŒ¨í„´ êµ¬ì„±

**1. ì „ëµ ì¸í„°í˜ì´ìŠ¤**

```java
public interface DiscountPolicy {
    int calculateDiscount(int originalAmount);
}
```

**2. ì •ì±… êµ¬í˜„ì²´**

```java
@Profile("default")
@Component
public class DefaultDiscountPolicy implements DiscountPolicy {
    public int calculateDiscount(int originalAmount) {
        return originalAmount;
    }
}

@Profile("holiday")
@Component
public class HolidayDiscountPolicy implements DiscountPolicy {
    public int calculateDiscount(int originalAmount) {
        return (int)(originalAmount * 0.8); // 20% í• ì¸
    }
}

@Profile("error-event")
@Component
public class ErrorEventDiscountPolicy implements DiscountPolicy {
    public int calculateDiscount(int originalAmount) {
        return (int)(originalAmount * 0.9); // 10% í• ì¸
    }
}
```

---

### ğŸ’° ì ìš© ìœ„ì¹˜ â€“ ê²°ì œ ë¡œì§ ë‚´

```java
int finalPaidAmount = discountPolicy.calculateDiscount(discountedAmount);
```

* ì¿ í° ì ìš© í›„ì˜ ê¸ˆì•¡(`discountedAmount`)ì— ëŒ€í•´ **ì „ì—­ í• ì¸ ì •ì±…**ì„ í•œ ë²ˆ ë” ì ìš©í•˜ì—¬ `finalPaidAmount`ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.
* ì‹¤ ê²°ì œ ê¸ˆì•¡ì€ ì´ `finalPaidAmount`ê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.

---

### ğŸ”„ ì „ì²´ í• ì¸ íë¦„

1. ì‚¬ìš©ìê°€ ì¶©ì „ ìš”ì²­ (ì˜ˆ: 10,000ì›)
2. ì¿ í°ì´ ìˆë‹¤ë©´ â†’ ì¿ í° í• ì¸ ì ìš© (ì˜ˆ: 8,000ì›)
3. ì „ì—­ ì •ì±… ì¡´ì¬ ì‹œ â†’ `@Profile` í• ì¸ ì ìš© (ì˜ˆ: holiday â†’ 8,000 â†’ 6,400ì›)
4. ì´ ê¸ˆì•¡ì„ ë°”íƒ•ìœ¼ë¡œ í† ìŠ¤í˜ì´ë¨¼ì¸  í˜¹ì€ í˜ì´í¬ ê²Œì´íŠ¸ì›¨ì´ ê²°ì œ ì§„í–‰
5. ì‹¤ì œ ì¶©ì „ í¬ì¸íŠ¸ëŠ” ìµœì´ˆ ìš”ì²­ ê¸ˆì•¡ì¸ 10,000ì›

---


* í…ŒìŠ¤íŠ¸ í™˜ê²½/ìš´ì˜ í™˜ê²½ì— ë”°ë¼ **ìœ ì—°í•˜ê²Œ í• ì¸ ì •ì±…ì„ ì£¼ì…** ê°€ëŠ¥
(`application.yml`ì˜ í”„ë¡œíŒŒì¼ë§Œ ë°”ê¾¸ë©´ ë°”ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ )

* ë‹¨ìˆœí•œ êµ¬ì¡°ì§€ë§Œ **ì„œë¹„ìŠ¤ ì „ì²´ì— ì •ì±…ì„ ì¼ê´„ ì ìš©í•  ìˆ˜ ìˆìŒ** 

---

